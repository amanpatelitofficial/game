<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>‚ö° DevOps Crossword ‚Äì 4 Teams (10 Qs Each)</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
:root { --cols: 14; --cell: 32px; --bg:#0e0f12; --panel:#15171b; --ink:#f5f7fa; --muted:#23262d; --line:#323844; --accent:#00d084; --warn:#ff5252; --brand:#ff9800; --blue:#33b5ff; }
html,body{height:100%}
body{ margin:0; background:radial-gradient(80% 60% at 50% 30%, #14171c, #0c0d10); color:var(--ink); font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; text-align:center; }
h1{ margin:18px 8px 10px; font-weight:900; letter-spacing:.3px; color:var(--brand); text-shadow:0 0 16px rgba(255,152,0,.35);}
#scorebar{ display:flex; gap:12px; justify-content:center; flex-wrap:wrap; margin-bottom:14px }
.chip{ background:#0f1116; border:1px solid #2a2f3a; color:#b9c2cf; padding:8px 14px; border-radius:999px; font-weight:700; }
.chip .n{ color:var(--blue) }
.wrap{ width:100%; max-width:1280px; margin:0 auto 40px; padding:0 10px }
.team{ background:var(--panel); border:1px solid #2a2f3a; border-radius:16px; padding:14px; }
.team header{ display:flex; align-items:center; justify-content:space-between; margin-bottom:8px }
.team h2{ margin:0; font-size:20px; color:var(--blue); }
.timer{ font-weight:800; color:var(--warn) }
.board{ display:grid; grid-template-columns: repeat(var(--cols), var(--cell)); gap:2px; margin:10px auto; place-content:center; background:#0e1015; border:1px solid var(--line); padding:8px; border-radius:12px; }
.cell{ width:var(--cell); height:var(--cell); display:flex; align-items:center; justify-content:center; background:#1a1e25; color:#e9edf5; font-weight:900; border:1px solid #2a2f3a; border-radius:6px; user-select:none; cursor:pointer; }
.cell.preview{ background:#4b5563; color:#fff }
.cell.found{ background:var(--accent); color:#0b1116; }
.clues{ text-align:left; margin-top:8px; display:grid; gap:6px }
.clue{ background:#0f1116; border:1px solid #2a2f3a; border-radius:8px; padding:8px 10px; font-size:14px; }
.clue.done{ color:var(--accent); text-decoration:line-through }
.bar{ margin:16px 0 6px }
button{ cursor:pointer; background:#1b88f4; color:#fff; border:0; border-radius:10px; padding:10px 14px; font-weight:800; }
#final{ position:fixed; inset:0; display:none; align-items:center; justify-content:center; backdrop-filter: blur(6px); background:rgba(6,7,10,.55);}
.card{ background:#0f1116; border:1px solid #2a2f3a; border-radius:16px; padding:20px 22px; width:min(560px, 92%); text-align:left;}
.card h3{ margin:0 0 8px; color:#ffd54f; text-align:center }
.r{ display:grid; grid-template-columns:1fr auto; gap:8px; padding:8px 10px; border-radius:8px; background:#141821; margin-top:8px }
.rank{ font-weight:900 } .pts{ font-weight:900; color:#9adfff }
#loginScreen{ position:fixed; inset:0; display:flex; align-items:center; justify-content:center; background:#0e0f12; }
#loginBox{ background:#15171b; padding:24px; border-radius:16px; border:1px solid #2a2f3a; width:300px; }
#loginBox h2{ margin:0 0 12px; color:var(--blue); }
select,button{ margin-top:10px; width:100%; padding:10px; border-radius:8px; border:0; }
</style>
</head>
<body>
<h1>‚ö° DevOps Crossword Game</h1>

<div id="scorebar">
  <div class="chip">Team 1: <span class="n" id="s1">0</span></div>
  <div class="chip">Team 2: <span class="n" id="s2">0</span></div>
  <div class="chip">Team 3: <span class="n" id="s3">0</span></div>
  <div class="chip">Team 4: <span class="n" id="s4">0</span></div>
</div>

<div class="wrap">
  <div id="gameArea"></div>
  <div class="bar">
    <button id="finishNow" style="display:none">üèÅ Finish Now</button>
  </div>
</div>

<div id="loginScreen">
  <div id="loginBox">
    <h2>Login to Play</h2>
    <select id="teamSelect">
      <option value="">Select Team</option>
      <option value="0">Team 1</option>
      <option value="1">Team 2</option>
      <option value="2">Team 3</option>
      <option value="3">Team 4</option>
    </select>
    <button id="startBtn">Start Game</button>
  </div>
</div>

<div id="final">
  <div class="card">
    <h3>üèÜ Final Leaderboard</h3>
    <div id="leader"></div>
    <div style="text-align:center;margin-top:12px">
      <button onclick="document.getElementById('final').style.display='none'">Close</button>
    </div>
  </div>
</div>

<script>
/* CONFIG */
const gridSize = 14;
const perWordPoints = 10;
const roundSeconds = 5*60; // 5 min per team
let currentTeam = null;

const TEAMS = [
  { name:"Team 1", words:[
    {w:"JENKINS",q:"CI/CD automation tool?"},{w:"DOCKER",q:"Container runtime?"},{w:"ANSIBLE",q:"Config management?"},
    {w:"PROMETHEUS",q:"Monitoring system?"},{w:"KUBERNETES",q:"Container orchestration?"},{w:"GRAFANA",q:"Visualization dashboard?"},
    {w:"NAGIOS",q:"Legacy monitoring tool?"},{w:"ARGOCD",q:"GitOps tool?"},{w:"ELK",q:"Log management stack?"},{w:"HELM",q:"Kubernetes package manager?"}
  ]},
  { name:"Team 2", words:[
    {w:"GIT",q:"Version control system?"},{w:"TERRAFORM",q:"IaC tool?"},{w:"CIRCLECI",q:"CI/CD tool?"},
    {w:"CHEF",q:"Ruby config mgmt tool?"},{w:"PUPPET",q:"Declarative config mgmt?"},{w:"SPINNAKER",q:"Multi-cloud CD?"},
    {w:"NEWRELIC",q:"APM tool?"},{w:"DATADOG",q:"Cloud monitoring?"},{w:"FLUENTD",q:"Log forwarding agent?"},{w:"SALTSTACK",q:"Python config mgmt?"}
  ]},
  { name:"Team 3", words:[
    {w:"TERRAFORM",q:"IaC HashiCorp tool?"},{w:"HELM",q:"K8s package manager?"},{w:"NAGIOS",q:"Legacy monitoring?"},
    {w:"ISTIO",q:"Service mesh?"},{w:"SPINNAKER",q:"CD multi-cloud?"},{w:"CHEF",q:"Ruby config tool?"},
    {w:"PUPPET",q:"Declarative config tool?"},{w:"PROMETHEUS",q:"Open-source monitoring?"},{w:"DATADOG",q:"Observability vendor?"},{w:"LOGSTASH",q:"Log processing pipeline?"}
  ]},
  { name:"Team 4", words:[
    {w:"CLOUDFORMATION",q:"AWS IaC service?"},{w:"EKS",q:"AWS managed Kubernetes?"},{w:"CLOUDWATCH",q:"AWS monitoring/logging?"},
    {w:"LAMBDA",q:"AWS serverless compute?"},{w:"ATHENA",q:"Query S3 data?"},{w:"STEPFUNCTIONS",q:"Serverless workflow?"},
    {w:"SNS",q:"AWS pub/sub messaging?"},{w:"SQS",q:"AWS message queue?"},{w:"CODEPIPELINE",q:"AWS CI/CD service?"},{w:"CODEBUILD",q:"AWS build service?"}
  ]}
];

const states = TEAMS.map(()=>({grid:null,found:new Set(),preview:[],dragging:false,start:null,over:false,score:0,timerId:null,secs:roundSeconds}));

/* GRID FUNCTIONS */
function emptyGrid(){ return Array.from({length:gridSize},()=>Array(gridSize).fill('')); }
function rand(a){ return a[Math.floor(Math.random()*a.length)]; }
function fitsAt(grid,word,r,c,dir){
  const L=word.length;
  if(dir==='H'){ if(c+L>gridSize) return false; for(let k=0;k<L;k++) if(grid[r][c+k]!==''&&grid[r][c+k]!==word[k]) return false; return true; }
  else{ if(r+L>gridSize) return false; for(let k=0;k<L;k++) if(grid[r+k][c]!==''&&grid[r+k][c]!==word[k]) return false; return true; }
}
function placeWord(grid,W){ const word=W.toUpperCase(); const options=[]; for(let r=0;r<gridSize;r++){ for(let c=0;c<gridSize;c++){ if(fitsAt(grid,word,r,c,'H')) options.push({r,c,dir:'H'}); if(fitsAt(grid,word,r,c,'V')) options.push({r,c,dir:'V'}); } } if(!options.length) return false; const pos=rand(options); if(pos.dir==='H') for(let k=0;k<word.length;k++) grid[pos.r][pos.c+k]=word[k]; else for(let k=0;k<word.length;k++) grid[pos.r+k][pos.c]=word[k]; return true; }
function buildGrid(words){ for(let attempt=0;attempt<40;attempt++){ const grid=emptyGrid(); let ok=true; [...words].sort((a,b)=>b.w.length-a.w.length).forEach(({w})=>{ if(ok&&!placeWord(grid,w)) ok=false; }); if(!ok) continue; for(let r=0;r<gridSize;r++) for(let c=0;c<gridSize;c++) if(grid[r][c]==='') grid[r][c]=String.fromCharCode(65+Math.floor(Math.random()*26)); return grid; } const g=emptyGrid(); for(let r=0;r<gridSize;r++)for(let c=0;c<gridSize;c++) g[r][c]='X'; return g; }

/* RENDER TEAM */
const gameArea=document.getElementById('gameArea');
function renderTeam(ti){
  const st=states[ti];
  gameArea.innerHTML='';
  const grid=buildGrid(TEAMS[ti].words); st.grid=grid;
  const panel=document.createElement('section'); panel.className='team'; panel.dataset.team=ti;
  panel.innerHTML=`<header><h2>${TEAMS[ti].name}</h2><div class="timer" id="t${ti}">${Math.floor(roundSeconds/60).toString().padStart(2,'0')}:00</div></header>`;
  const board=document.createElement('div'); board.className='board'; board.style.setProperty('--cols',gridSize);
  grid.forEach((row,r)=>{ row.forEach((ch,c)=>{ const cell=document.createElement('div'); cell.className='cell'; cell.textContent=ch; cell.dataset.r=r; cell.dataset.c=c; cell.dataset.team=ti; board.appendChild(cell); }); });
  panel.appendChild(board);
  const clues=document.createElement('div'); clues.className='clues';
  TEAMS[ti].words.forEach((o,i)=>{ const d=document.createElement('div'); d.className='clue'; d.id=`q${ti}-${i}`; d.textContent=`${i+1}. ${o.q}`; clues.appendChild(d); });
  panel.appendChild(clues);
  gameArea.appendChild(panel);
  hookBoardEvents(board,ti);
  document.getElementById('finishNow').style.display='inline-block';
  startTimer(ti);
}

/* SELECTION */
function pathBetween(r1,c1,r2,c2){ const cells=[]; if(r1===r2){ const s=Math.min(c1,c2),e=Math.max(c1,c2); for(let c=s;c<=e;c++) cells.push([r1,c]); } else if(c1===c2){ const s=Math.min(r1,r2),e=Math.max(r1,r2); for(let r=s;r<=e;r++) cells.push([r,c1]); } return cells; }
function textFromPath(grid,path){ return path.map(([r,c])=>grid[r][c]).join(''); }
function clearPreview(ti){ states[ti].preview.forEach(([r,c])=>{ const el=document.querySelector(`.cell[data-team="${ti}"][data-r="${r}"][data-c="${c}"]`); if(el&&!el.classList.contains('found')) el.classList.remove('preview'); }); states[ti].preview=[]; }
function applyPreview(ti,path){ clearPreview(ti); states[ti].preview=path; path.forEach(([r,c])=>{ const el=document.querySelector(`.cell[data-team="${ti}"][data-r="${r}"][data-c="${c}"]`); if(el&&!el.classList.contains('found')) el.classList.add('preview'); }); }
function lockFound(ti,path){ path.forEach(([r,c])=>{ const el=document.querySelector(`.cell[data-team="${ti}"][data-r="${r}"][data-c="${c}"]`); if(el){el.classList.remove('preview'); el.classList.add('found');} }); }
function checkSelection(ti){ const st=states[ti]; const path=st.preview; if(!path.length) return; const word=textFromPath(st.grid,path); const rev=word.split('').reverse().join(''); const words=TEAMS[ti].words.map(o=>o.w); let idx=words.findIndex(w=>w===word||w===rev); if(idx!==-1&&!st.found.has(words[idx])){ st.found.add(words[idx]); lockFound(ti,path); st.score+=perWordPoints; updateScoreUI(); document.getElementById(`q${ti}-${idx}`).classList.add('done'); } clearPreview(ti); }
function hookBoardEvents(board,ti){ const st=states[ti]; board.addEventListener('mousedown',e=>{ if(st.over) return; const cell=e.target.closest('.cell'); if(!cell) return; st.dragging=true; st.start=[Number(cell.dataset.r),Number(cell.dataset.c)]; applyPreview(ti,[st.start]); }); board.addEventListener('mouseover',e=>{ if(!st.dragging) return; const cell=e.target.closest('.cell'); if(!cell) return; const r2=Number(cell.dataset.r),c2=Number(cell.dataset.c); const [r1,c1]=st.start; const path=pathBetween(r1,c1,r2,c2); applyPreview(ti,path); }); window.addEventListener('mouseup',()=>{ if(!st.dragging) return; st.dragging=false; checkSelection(ti); }); }

/* SCORE/TIMER */
function updateScoreUI(){ states.forEach((s,i)=>document.getElementById(`s${i+1}`).textContent=s.score); }
function startTimer(ti){ const st=states[ti]; const el=document.getElementById(`t${ti}`); const tick=()=>{ const m=String(Math.floor(st.secs/60)).padStart(2,'0'); const s=String(st.secs%60).padStart(2,'0'); el.textContent=`${m}:${s}`; if(st.secs<=0){ clearInterval(st.timerId); st.over=true; alert(`${TEAMS[ti].name} time over!`); document.getElementById('loginScreen').style.display='flex'; document.getElementById('finishNow').style.display='none'; } st.secs--; }; tick(); st.timerId=setInterval(tick,1000); }

function showFinal(){
  const order=states.map((s,i)=>({name:TEAMS[i].name,score:s.score})).sort((a,b)=>b.score-a.score);
  const top=order[0].score;
  const winners=order.filter(x=>x.score===top).map(x=>x.name).join(', ');
  const leader=document.getElementById('leader');
  leader.innerHTML=`<div class="r"><div class="rank">Winner: ${winners}</div><div class="pts">${top} pts</div></div>`+order.map((o,i)=>`<div class="r"><div class="rank">${i+1}. ${o.name}</div><div class="pts">${o.score} pts</div></div>`).join('');
  document.getElementById('final').style.display='flex';
}

/* BUTTONS */
document.getElementById('finishNow').addEventListener('click',()=>{
  states.forEach(s=>{ if(s.timerId) clearInterval(s.timerId); s.over=true; });
  showFinal();
});

document.getElementById('startBtn').addEventListener('click',()=>{
  const sel=document.getElementById('teamSelect').value;
  if(sel==="") return alert("Select a team!"); currentTeam=parseInt(sel);
  if(states[currentTeam].over) return alert("Team already played!");
  document.getElementById('loginScreen').style.display='none'; 
  renderTeam(currentTeam);
});
</script>
</body>
</html>
